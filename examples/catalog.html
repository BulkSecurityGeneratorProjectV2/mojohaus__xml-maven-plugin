<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2018-03-15 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180315" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Maven XML Plugin &#x2013; Catalog files</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/mojohaus/xml-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../" id="bannerLeft">
                                                                                                <img src="../../images/mojo_logo.png"  alt="MojoHaus"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="../../" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../mojo-parent" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../index.html" title="Maven XML Plugin">
        Maven XML Plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Catalog files</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2018-03-15</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 1.0.2
        </li>
            
                                    
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../../index.html" title="MojoHaus Parent">
          <span class="none"></span>
        MojoHaus Parent</a>
            </li>
                              <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="../index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="../usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="../faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="../examples/validate-well-formedness.html" title="Checking well formedness">
          <span class="none"></span>
        Checking well formedness</a>
            </li>
                
      <li>
  
                          <a href="../examples/validate-schema.html" title="Using an XML schema">
          <span class="none"></span>
        Using an XML schema</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-basic.html" title="XSLT transformation">
          <span class="none"></span>
        XSLT transformation</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-change-extension.html" title="Simple file name mapping">
          <span class="none"></span>
        Simple file name mapping</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-change-regexp.html" title="Complex file name mapping">
          <span class="none"></span>
        Complex file name mapping</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-saxon.html" title="Using XSLT 2.0">
          <span class="none"></span>
        Using XSLT 2.0</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-outputProperties.html" title="XSLT output properties">
          <span class="none"></span>
        XSLT output properties</a>
            </li>
                
      <li>
  
                          <a href="../examples/transform-parameters.html" title="XSLT stylesheet parameters">
          <span class="none"></span>
        XSLT stylesheet parameters</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Catalog files</a>
          </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Catalog_files"></a>Catalog files</h2>
<p>It is not unusual that XML parsers or stylesheet processors try to access external resources. For example if you specify an external schema, the XML parser might try to load the external schema in order to validate your XML file:</p>
<div class="source"><pre class="prettyprint">  &lt;xsl:stylesheet version=&quot;2.0&quot;
       xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.w3.org/1999/XSL/Transform http://www.w3.org/2007/schema-for-xslt20.xsd&quot;&gt;
    ...
  &lt;/xsl:stylesheet&gt;</pre></div>
<p>In this example the XML parser would likely attempt to load an XML schema from <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt>.</p>
<p>Another example might be the use of a DTD:</p>
<div class="source"><pre class="prettyprint">  &lt;!DOCTYPE doc PUBLIC &quot;-COUNTER-&quot; &quot;http://www.example.com/sample.dtd&quot;&gt;
  &lt;doc&gt;&lt;header&gt;A sample document.&lt;/header&gt;&lt;/doc&gt;</pre></div>
<p>In this case, the XML parser would likely attempt to connect to <tt>http://www.example.com/sample.dtd</tt>.</p>
<p>This is all very well, if you are connected to the Internet, with suitably configured proxy servers. But if that is not the case, then you will likely encounter trouble.</p>
<p>The solution is using local copies of these external resources and a catalog file. This is best explained by an example catalog file:</p>
<div class="source"><pre class="prettyprint">  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;
    &lt;system systemId=&quot;http://www.w3.org/2007/schema-for-xslt20.xsd&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
  &lt;/catalog&gt;</pre></div>
<p>The example shows to things:</p>
<ul>
<li>If the XML parser is searching for a file with a <b>public id</b> of <tt>--COUNTER--</tt>, then the catalog advises to use the local file <tt>./doc-schema.xsd</tt> instead.</li>
<li>If the XML parser or stylesheet processor is searching for a file with the <b>system id</b> <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt>, then the catalog requests to use the local file <tt>./schema-for-xslt20.xsd</tt> instead.
<p>It doesn't matter whether you use the public id or the system id. The important thing to know is what the respective public id and the system id are. In our first example, we had a public id of <tt>http://www.w3.org/1999/XSL/Transform</tt> (the namespace URI) and a system id of <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt> (the URL from which to actually load the schema). In the second example, the public id was <tt>--COUNTER--&gt;&gt; and the system id &lt;&lt;&lt;http://www.example.com/sample.dtd</tt>.</p>
<p>In other words, we might as well rewrite our catalog file like this:</p>
<div class="source"><pre class="prettyprint">  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;http://www.w3.org/1999/XSL/Transform&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
    &lt;system systemId=&quot;http://www.example.com/sample.dtd&quot; uri=&quot;./sample.dtd&quot;/&gt;
  &lt;/catalog&gt;</pre></div>
<p>We might as well use only public id's or system id's.</p></li></ul></div>
<div class="section">
<h2><a name="How_to_use_a_catalog_file"></a>How to use a catalog file</h2>
<p>To use a catalog file, you must specify it in your POM.</p>
<div class="source"><pre class="prettyprint">      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;validationSets&gt;
            &lt;validationSet&gt;
              &lt;dir&gt;src/main/xml&lt;/dir&gt;
              &lt;includes&gt;
                &lt;include&gt;doc1.xml&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/validationSet&gt;
          &lt;/validationSets&gt;
          &lt;catalogs&gt;
            &lt;catalog&gt;src/main/xml/catalog.xml&lt;/catalog&gt;
          &lt;/catalogs&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;</pre></div>
<p>In this example, the catalog file would be stored in <tt>src/main/xml/catalog.xml</tt>. To use a catalog file for transformation, just use the same <tt>catalogs</tt> element in your <tt>configuration</tt> section.</p></div>
<div class="section">
<h2><a name="Relative_paths_in_the_catalog_file"></a>Relative paths in the catalog file</h2>
<p>An important point to make: How are relative paths in the catalog file interpreted? Suggest that the catalog file is stored in <tt>src/main/xml/catalog.xml</tt> and the catalog file contains the following entry:</p>
<div class="source"><pre class="prettyprint">    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;</pre></div>
<p>The answer is that the URI is interpreted relative to the catalog files. In other words, the <tt>sample.dtd</tt> is stored in <tt>src/main/xml/sample.dtd</tt> and not in <tt>$<a name="basedir">basedir</a>/sample.dtd</tt>.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2006&#x2013;2018
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All rights reserved.    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>