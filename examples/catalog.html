<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at May 22, 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven XML Plugin - Catalog files</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150522" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                  <a href="" id="bannerLeft">
                                                <img src="../../images/mojo_logo.png" alt="Mojo" />
                </a>
                        <a href="http://www.codehaus.org" id="bannerRight">
                                                <img src="../../images/codehaus-small.png" alt="Codehaus" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                
                <div class="xleft">
                                  <a href="http://codehaus.org/" class="externalLink" title="Codehaus">Codehaus</a>
                &gt;
                              <a href="../../" title="Mojo">Mojo</a>
                &gt;
                              <a href="http://mojo.codehaus.org/xml-maven-plugin" class="externalLink" title="Maven XML Plugin">Maven XML Plugin</a>
                  </div>
            <div class="xright">                    <a href="http://maven.apache.org/" class="externalLink" title="Maven">Maven</a>
            |
                        <a href="http://mojo.codehaus.org" class="externalLink" title="Mojo">Mojo</a>
              
                
                &nbsp;| <span id="publishDate">Last Published: 2015-05-22</span>
              &nbsp;| <span id="projectVersion">Version: 1.0</span>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                
                                <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="Codehaus Mojo Parent">Codehaus Mojo Parent</a>
            </li>
          </ul>
                       <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="../usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="../faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="../examples/validate-well-formedness.html" title="Checking well formedness">Checking well formedness</a>
            </li>
                  <li class="none">
                          <a href="../examples/validate-schema.html" title="Using an XML schema">Using an XML schema</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-basic.html" title="XSLT transformation">XSLT transformation</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-change-extension.html" title="Simple file name mapping">Simple file name mapping</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-change-regexp.html" title="Complex file name mapping">Complex file name mapping</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-saxon.html" title="Using XSLT 2.0">Using XSLT 2.0</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-outputProperties.html" title="XSLT output properties">XSLT output properties</a>
            </li>
                  <li class="none">
                          <a href="../examples/transform-parameters.html" title="XSLT stylesheet parameters">XSLT stylesheet parameters</a>
            </li>
                  <li class="none">
            <strong>Catalog files</strong>
          </li>
          </ul>
                                 <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!--  --><!-- Copyright 2011  The Apache Software Foundation --><!--  --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!--  --><!--  --><div class="section"><h2>Catalog files<a name="Catalog_files"></a></h2><p>It is not unusual that XML parsers or stylesheet processors try to access external resources. For example if you specify an external schema, the XML parser might try to load the external schema in order to validate your XML file:</p><div class="source"><pre>  &lt;xsl:stylesheet version=&quot;2.0&quot;
       xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.w3.org/1999/XSL/Transform http://www.w3.org/2007/schema-for-xslt20.xsd&quot;&gt;
    ...
  &lt;/xsl:stylesheet&gt;</pre></div><p>In this example the XML parser would likely attempt to load an XML schema from <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt>.</p><p>Another example might be the use of a DTD:</p><div class="source"><pre>  &lt;!DOCTYPE doc PUBLIC &quot;-COUNTER-&quot; &quot;http://www.example.com/sample.dtd&quot;&gt;
  &lt;doc&gt;&lt;header&gt;A sample document.&lt;/header&gt;&lt;/doc&gt;</pre></div><p>In this case, the XML parser would likely attempt to connect to <tt>http://www.example.com/sample.dtd</tt>.</p><p>This is all very well, if you are connected to the Internet, with suitably configured proxy servers. But if that is not the case, then you will likely encounter trouble.</p><p>The solution is using local copies of these external resources and a catalog file. This is best explained by an example catalog file:</p><div class="source"><pre>  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;
    &lt;system systemId=&quot;http://www.w3.org/2007/schema-for-xslt20.xsd&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
  &lt;/catalog&gt;</pre></div><p>The example shows to things:</p><ul><li>If the XML parser is searching for a file with a <b>public id</b> of <tt>--COUNTER--</tt>, then the catalog advises to use the local file <tt>./doc-schema.xsd</tt> instead.</li><li>If the XML parser or stylesheet processor is searching for a file with the <b>system id</b> <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt>, then the catalog requests to use the local file <tt>./schema-for-xslt20.xsd</tt> instead.<p>It doesn't matter whether you use the public id or the system id. The important thing to know is what the respective public id and the system id are. In our first example, we had a public id of <tt>http://www.w3.org/1999/XSL/Transform</tt> (the namespace URI) and a system id of <tt>http://www.w3.org/2007/schema-for-xslt20.xsd</tt> (the URL from which to actually load the schema). In the second example, the public id was <tt>--COUNTER--&gt;&gt; and the system id &lt;&lt;&lt;http://www.example.com/sample.dtd</tt>.</p><p>In other words, we might as well rewrite our catalog file like this:</p><div class="source"><pre>  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;http://www.w3.org/1999/XSL/Transform&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
    &lt;system systemId=&quot;http://www.example.com/sample.dtd&quot; uri=&quot;./sample.dtd&quot;/&gt;
  &lt;/catalog&gt;</pre></div><p>We might as well use only public id's or system id's.</p></li></ul></div><div class="section"><h2>How to use a catalog file<a name="How_to_use_a_catalog_file"></a></h2><p>To use a catalog file, you must specify it in your POM.</p><div class="source"><pre>      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;validationSets&gt;
            &lt;validationSet&gt;
              &lt;dir&gt;src/main/xml&lt;/dir&gt;
              &lt;includes&gt;
                &lt;include&gt;doc1.xml&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/validationSet&gt;
          &lt;/validationSets&gt;
          &lt;catalogs&gt;
            &lt;catalog&gt;src/main/xml/catalog.xml&lt;/catalog&gt;
          &lt;/catalogs&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;</pre></div><p>In this example, the catalog file would be stored in <tt>src/main/xml/catalog.xml</tt>. To use a catalog file for transformation, just use the same <tt>catalogs</tt> element in your <tt>configuration</tt> section.</p></div><div class="section"><h2>Relative paths in the catalog file<a name="Relative_paths_in_the_catalog_file"></a></h2><p>An important point to make: How are relative paths in the catalog file interpreted? Suggest that the catalog file is stored in <tt>src/main/xml/catalog.xml</tt> and the catalog file contains the following entry:</p><div class="source"><pre>    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;</pre></div><p>The answer is that the URI is interpreted relative to the catalog files. In other words, the <tt>sample.dtd</tt> is stored in <tt>src/main/xml/sample.dtd</tt> and not in <tt>$<a name="basedir">basedir</a>/sample.dtd</tt>.</p></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2006-2015
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All Rights Reserved.      
                
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
